var FileUploader=function(){function n(n){this.fileData=n;this.FileData=n}return n.prototype.Send=function(n){this.SliceSend(0,n)},n.prototype.AddFormData=function(n){this.OtherData==null&&(this.OtherData=[]);this.OtherData.push(n)},n.prototype.OnComplete=function(){},n.prototype.OnProgress=function(){},n.prototype.SliceSend=function(n,t){var e=this,i=n+1048576,o,r,u,f;if(i>this.FileData.size&&(i=this.FileData.size),o=this.FileData.slice(n,i),r=new FormData,r.append("file",o,this.FileData.name),this.OtherData!=null)for(u=0;u<this.OtherData.length;u++)r.append(this.OtherData[u].Name,this.OtherData[u].Vale);r.append("position",n.toString());f=new XMLHttpRequest;f.open("POST",t);f.onload=i==this.FileData.size?this.OnComplete:function(){e.SliceSend(i,t)};f.onprogress=function(t){var i=new ProgressEvent("ProgressEvent",{loaded:t.loaded+n,total:e.FileData.size});e.OnProgress.call(this,i)};f.send(r)},n}();